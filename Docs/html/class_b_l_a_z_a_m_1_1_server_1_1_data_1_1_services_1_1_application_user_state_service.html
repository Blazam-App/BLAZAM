<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Blazam: BLAZAM.Server.Data.Services.ApplicationUserStateService Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Blazam
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_b_l_a_z_a_m.html">BLAZAM</a></li><li class="navelem"><a class="el" href="namespace_b_l_a_z_a_m_1_1_server.html">Server</a></li><li class="navelem"><a class="el" href="namespace_b_l_a_z_a_m_1_1_server_1_1_data.html">Data</a></li><li class="navelem"><a class="el" href="namespace_b_l_a_z_a_m_1_1_server_1_1_data_1_1_services.html">Services</a></li><li class="navelem"><a class="el" href="class_b_l_a_z_a_m_1_1_server_1_1_data_1_1_services_1_1_application_user_state_service.html">ApplicationUserStateService</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="class_b_l_a_z_a_m_1_1_server_1_1_data_1_1_services_1_1_application_user_state_service-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">BLAZAM.Server.Data.Services.ApplicationUserStateService Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A stateful "session" store for the application's user session state. This class is a "hack" for Blazor Server to allow it to behave as if there is a persistent user web session between reloads on the client. Using this class data can be persisted over the course of an entire user's login session. In the context of this app, this class's primary purpose is to cache the user permission for logged in ActiveDirectory users. Each logged in user's ClaimsPrincipal is cached at login, retrieved on reload, and removed either on logout, or after 3x the Timeout set in the AuthenticationSettings in the Database. Of note: On webapp restart, if a valid ClaimsPrincipal still exists in the user's browser cookies for a logged in user when they reload any page the cache is updated with the missing ClaimsPrincipal.  
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for BLAZAM.Server.Data.Services.ApplicationUserStateService:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_b_l_a_z_a_m_1_1_server_1_1_data_1_1_services_1_1_application_user_state_service.png" usemap="#BLAZAM.Server.Data.Services.ApplicationUserStateService_map" alt=""/>
  <map id="BLAZAM.Server.Data.Services.ApplicationUserStateService_map" name="BLAZAM.Server.Data.Services.ApplicationUserStateService_map">
<area href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state_service.html" alt="BLAZAM.Session.Interfaces.IApplicationUserStateService" shape="rect" coords="0,0,357,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa93d9718351f77b1ece21a79716f4a1a" id="r_aa93d9718351f77b1ece21a79716f4a1a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa93d9718351f77b1ece21a79716f4a1a">ApplicationUserStateService</a> (IHttpContextAccessor httpContextAccessor, <a class="el" href="interface_b_l_a_z_a_m_1_1_database_1_1_context_1_1_i_app_database_factory.html">IAppDatabaseFactory</a> factory, <a class="el" href="interface_b_l_a_z_a_m_1_1_notifications_1_1_services_1_1_i_notification_publisher.html">INotificationPublisher</a> notificationPublisher)</td></tr>
<tr class="memdesc:aa93d9718351f77b1ece21a79716f4a1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">A service to provide stateful user session data storage for runtime. Caches all logged in users. Raises a UserStateAdded event when a new state is added to the cache for processing in other modules.  <br /></td></tr>
<tr class="separator:aa93d9718351f77b1ece21a79716f4a1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba9934bc3acd56eaf2056e23789b31f5" id="r_aba9934bc3acd56eaf2056e23789b31f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state.html">IApplicationUserState</a>?&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba9934bc3acd56eaf2056e23789b31f5">GetUserState</a> (ClaimsPrincipal userClaim)</td></tr>
<tr class="memdesc:aba9934bc3acd56eaf2056e23789b31f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the matching cached user state for a given ClaimsPrincipal. This principal is usually attained via the browser authentication cookie.  <br /></td></tr>
<tr class="separator:aba9934bc3acd56eaf2056e23789b31f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63d025a3689439f6104fcb5a17796e7a" id="r_a63d025a3689439f6104fcb5a17796e7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a63d025a3689439f6104fcb5a17796e7a">SetUserState</a> (<a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state.html">IApplicationUserState</a> state)</td></tr>
<tr class="separator:a63d025a3689439f6104fcb5a17796e7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d6a5713be6d5778e4f50d71f5b16dfc" id="r_a2d6a5713be6d5778e4f50d71f5b16dfc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2d6a5713be6d5778e4f50d71f5b16dfc">RemoveUserState</a> (<a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state.html">IApplicationUserState</a> state)</td></tr>
<tr class="separator:a2d6a5713be6d5778e4f50d71f5b16dfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad35fb5808425d05dca1d1c574564a9b5" id="r_ad35fb5808425d05dca1d1c574564a9b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad35fb5808425d05dca1d1c574564a9b5">RemoveUserState</a> (ClaimsPrincipal currentUser)</td></tr>
<tr class="separator:ad35fb5808425d05dca1d1c574564a9b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25c0d88424bcb1d777d9a4891f9c659f" id="r_a25c0d88424bcb1d777d9a4891f9c659f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state.html">IApplicationUserState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a25c0d88424bcb1d777d9a4891f9c659f">CreateUserState</a> (ClaimsPrincipal user)</td></tr>
<tr class="separator:a25c0d88424bcb1d777d9a4891f9c659f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="properties" name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:ab1452e935186dde0f2aad0c5faec33a8" id="r_ab1452e935186dde0f2aad0c5faec33a8"><td class="memItemLeft" align="right" valign="top"><a id="ab1452e935186dde0f2aad0c5faec33a8" name="ab1452e935186dde0f2aad0c5faec33a8"></a>
static <a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state_service.html">IApplicationUserStateService</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Instance</b><code> [get]</code></td></tr>
<tr class="separator:ab1452e935186dde0f2aad0c5faec33a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a2b33bc8ff6e9e950b9b7555c678041" id="r_a2a2b33bc8ff6e9e950b9b7555c678041"><td class="memItemLeft" align="right" valign="top">AppEvent&lt; <a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state.html">IApplicationUserState</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2a2b33bc8ff6e9e950b9b7555c678041">UserStateAdded</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a2a2b33bc8ff6e9e950b9b7555c678041"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a new UserState is added to the cache.  <br /></td></tr>
<tr class="separator:a2a2b33bc8ff6e9e950b9b7555c678041"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66dd3f9d71b30406d5b3a796c8bbdd82" id="r_a66dd3f9d71b30406d5b3a796c8bbdd82"><td class="memItemLeft" align="right" valign="top">AppEvent&lt; <a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state.html">IApplicationUserState</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a66dd3f9d71b30406d5b3a796c8bbdd82">OnUserStateRemoved</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a66dd3f9d71b30406d5b3a796c8bbdd82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a UserState is removeed from the cache.  <br /></td></tr>
<tr class="separator:a66dd3f9d71b30406d5b3a796c8bbdd82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24b64dbc97bec70c2e68f8e9bf1bdd76" id="r_a24b64dbc97bec70c2e68f8e9bf1bdd76"><td class="memItemLeft" align="right" valign="top">IList&lt; <a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state.html">IApplicationUserState</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a24b64dbc97bec70c2e68f8e9bf1bdd76">UserStates</a> = new List&lt;<a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state.html">IApplicationUserState</a>&gt;()<code> [get]</code></td></tr>
<tr class="memdesc:a24b64dbc97bec70c2e68f8e9bf1bdd76"><td class="mdescLeft">&#160;</td><td class="mdescRight">A cached list of user states for logged in users. This allows easy, cached access to the users permissions and DirectryEntry.  <br /></td></tr>
<tr class="separator:a24b64dbc97bec70c2e68f8e9bf1bdd76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a184472955d609f2d6dfc9aa4e2d3e8ae" id="r_a184472955d609f2d6dfc9aa4e2d3e8ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state.html">IApplicationUserState</a>?&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a184472955d609f2d6dfc9aa4e2d3e8ae">CurrentUserState</a><code> [get]</code></td></tr>
<tr class="memdesc:a184472955d609f2d6dfc9aa4e2d3e8ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current UserState cached object of the currently logged in user, referenced by the users browser authentication cookie.  <br /></td></tr>
<tr class="separator:a184472955d609f2d6dfc9aa4e2d3e8ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7915563b7dd800ed06fe7918c381ca70" id="r_a7915563b7dd800ed06fe7918c381ca70"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7915563b7dd800ed06fe7918c381ca70">CurrentUsername</a><code> [get]</code></td></tr>
<tr class="separator:a7915563b7dd800ed06fe7918c381ca70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header properties_interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state_service"><td colspan="2" onclick="javascript:dynsection.toggleInherit('properties_interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state_service')"><img src="closed.png" alt="-"/>&#160;Properties inherited from <a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state_service.html">BLAZAM.Session.Interfaces.IApplicationUserStateService</a></td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A stateful "session" store for the application's user session state. This class is a "hack" for Blazor Server to allow it to behave as if there is a persistent user web session between reloads on the client. Using this class data can be persisted over the course of an entire user's login session. In the context of this app, this class's primary purpose is to cache the user permission for logged in ActiveDirectory users. Each logged in user's ClaimsPrincipal is cached at login, retrieved on reload, and removed either on logout, or after 3x the Timeout set in the AuthenticationSettings in the Database. Of note: On webapp restart, if a valid ClaimsPrincipal still exists in the user's browser cookies for a logged in user when they reload any page the cache is updated with the missing ClaimsPrincipal. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa93d9718351f77b1ece21a79716f4a1a" name="aa93d9718351f77b1ece21a79716f4a1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa93d9718351f77b1ece21a79716f4a1a">&#9670;&#160;</a></span>ApplicationUserStateService()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BLAZAM.Server.Data.Services.ApplicationUserStateService.ApplicationUserStateService </td>
          <td>(</td>
          <td class="paramtype">IHttpContextAccessor</td>          <td class="paramname"><span class="paramname"><em>httpContextAccessor</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_b_l_a_z_a_m_1_1_database_1_1_context_1_1_i_app_database_factory.html">IAppDatabaseFactory</a></td>          <td class="paramname"><span class="paramname"><em>factory</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_b_l_a_z_a_m_1_1_notifications_1_1_services_1_1_i_notification_publisher.html">INotificationPublisher</a></td>          <td class="paramname"><span class="paramname"><em>notificationPublisher</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A service to provide stateful user session data storage for runtime. Caches all logged in users. Raises a UserStateAdded event when a new state is added to the cache for processing in other modules. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">httpContextAccessor</td><td>An HTTP Context Accessor to get the current ClaimsPrincipal of the current session. This Principal is persisted via the browser authentication cookie</td></tr>
    <tr><td class="paramname">factory</td><td>Database Context Factory for accessing the Authentication Setting - SessionTimeout</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a25c0d88424bcb1d777d9a4891f9c659f" name="a25c0d88424bcb1d777d9a4891f9c659f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25c0d88424bcb1d777d9a4891f9c659f">&#9670;&#160;</a></span>CreateUserState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state.html">IApplicationUserState</a> BLAZAM.Server.Data.Services.ApplicationUserStateService.CreateUserState </td>
          <td>(</td>
          <td class="paramtype">ClaimsPrincipal</td>          <td class="paramname"><span class="paramname"><em>user</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state_service.html">BLAZAM.Session.Interfaces.IApplicationUserStateService</a>.</p>

</div>
</div>
<a id="aba9934bc3acd56eaf2056e23789b31f5" name="aba9934bc3acd56eaf2056e23789b31f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba9934bc3acd56eaf2056e23789b31f5">&#9670;&#160;</a></span>GetUserState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state.html">IApplicationUserState</a>? BLAZAM.Server.Data.Services.ApplicationUserStateService.GetUserState </td>
          <td>(</td>
          <td class="paramtype">ClaimsPrincipal</td>          <td class="paramname"><span class="paramname"><em>userClaim</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the matching cached user state for a given ClaimsPrincipal. This principal is usually attained via the browser authentication cookie. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">userClaim</td><td>The users ClaimsPrincipal to match against.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state_service.html">BLAZAM.Session.Interfaces.IApplicationUserStateService</a>.</p>

</div>
</div>
<a id="ad35fb5808425d05dca1d1c574564a9b5" name="ad35fb5808425d05dca1d1c574564a9b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad35fb5808425d05dca1d1c574564a9b5">&#9670;&#160;</a></span>RemoveUserState() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BLAZAM.Server.Data.Services.ApplicationUserStateService.RemoveUserState </td>
          <td>(</td>
          <td class="paramtype">ClaimsPrincipal</td>          <td class="paramname"><span class="paramname"><em>currentUser</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state_service.html">BLAZAM.Session.Interfaces.IApplicationUserStateService</a>.</p>

</div>
</div>
<a id="a2d6a5713be6d5778e4f50d71f5b16dfc" name="a2d6a5713be6d5778e4f50d71f5b16dfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d6a5713be6d5778e4f50d71f5b16dfc">&#9670;&#160;</a></span>RemoveUserState() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BLAZAM.Server.Data.Services.ApplicationUserStateService.RemoveUserState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state.html">IApplicationUserState</a></td>          <td class="paramname"><span class="paramname"><em>state</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state_service.html">BLAZAM.Session.Interfaces.IApplicationUserStateService</a>.</p>

</div>
</div>
<a id="a63d025a3689439f6104fcb5a17796e7a" name="a63d025a3689439f6104fcb5a17796e7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63d025a3689439f6104fcb5a17796e7a">&#9670;&#160;</a></span>SetUserState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BLAZAM.Server.Data.Services.ApplicationUserStateService.SetUserState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state.html">IApplicationUserState</a></td>          <td class="paramname"><span class="paramname"><em>state</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state_service.html">BLAZAM.Session.Interfaces.IApplicationUserStateService</a>.</p>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a id="a7915563b7dd800ed06fe7918c381ca70" name="a7915563b7dd800ed06fe7918c381ca70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7915563b7dd800ed06fe7918c381ca70">&#9670;&#160;</a></span>CurrentUsername</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string BLAZAM.Server.Data.Services.ApplicationUserStateService.CurrentUsername</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state_service.html">BLAZAM.Session.Interfaces.IApplicationUserStateService</a>.</p>

</div>
</div>
<a id="a184472955d609f2d6dfc9aa4e2d3e8ae" name="a184472955d609f2d6dfc9aa4e2d3e8ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a184472955d609f2d6dfc9aa4e2d3e8ae">&#9670;&#160;</a></span>CurrentUserState</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state.html">IApplicationUserState</a>? BLAZAM.Server.Data.Services.ApplicationUserStateService.CurrentUserState</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the current UserState cached object of the currently logged in user, referenced by the users browser authentication cookie. </p>

<p>Implements <a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state_service.html">BLAZAM.Session.Interfaces.IApplicationUserStateService</a>.</p>

</div>
</div>
<a id="a66dd3f9d71b30406d5b3a796c8bbdd82" name="a66dd3f9d71b30406d5b3a796c8bbdd82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66dd3f9d71b30406d5b3a796c8bbdd82">&#9670;&#160;</a></span>OnUserStateRemoved</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">AppEvent&lt;<a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state.html">IApplicationUserState</a>&gt; BLAZAM.Server.Data.Services.ApplicationUserStateService.OnUserStateRemoved</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called when a UserState is removeed from the cache. </p>
<p>This can happen on timeout or user intitiated logout. </p>

</div>
</div>
<a id="a2a2b33bc8ff6e9e950b9b7555c678041" name="a2a2b33bc8ff6e9e950b9b7555c678041"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a2b33bc8ff6e9e950b9b7555c678041">&#9670;&#160;</a></span>UserStateAdded</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">AppEvent&lt;<a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state.html">IApplicationUserState</a>&gt; BLAZAM.Server.Data.Services.ApplicationUserStateService.UserStateAdded</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called when a new UserState is added to the cache. </p>

<p>Implements <a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state_service.html">BLAZAM.Session.Interfaces.IApplicationUserStateService</a>.</p>

</div>
</div>
<a id="a24b64dbc97bec70c2e68f8e9bf1bdd76" name="a24b64dbc97bec70c2e68f8e9bf1bdd76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24b64dbc97bec70c2e68f8e9bf1bdd76">&#9670;&#160;</a></span>UserStates</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IList&lt;<a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state.html">IApplicationUserState</a>&gt; BLAZAM.Server.Data.Services.ApplicationUserStateService.UserStates = new List&lt;<a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state.html">IApplicationUserState</a>&gt;()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A cached list of user states for logged in users. This allows easy, cached access to the users permissions and DirectryEntry. </p>

<p>Implements <a class="el" href="interface_b_l_a_z_a_m_1_1_session_1_1_interfaces_1_1_i_application_user_state_service.html">BLAZAM.Session.Interfaces.IApplicationUserStateService</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>BLAZAMSession/<b>ApplicationUserStateService.cs</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
