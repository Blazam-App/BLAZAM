@if (Playing)
{
    <audio onended="@PlayEnded" autoplay loop="@Loop" ><source src=@Src /></audio>
}
else
{
    <audio  muted ><source src=@Src /></audio>

}

@code {
    bool _playing;
    [Parameter]
    public bool Playing { get=>_playing; set
        {
            if (_playing == value) return;
            _playing = value;
            InvokeAsync(StateHasChanged);

    } }

    [Parameter]
    public bool Loop { get; set; }
    [Parameter]
    public string Src { get; set; }
    [Parameter]
    public EventCallback Ended { get; set; }

    private async Task PlayEnded()
    {
        if (!Loop)
        {
            Playing = false;
            Ended.InvokeAsync();
        }
    }
}
