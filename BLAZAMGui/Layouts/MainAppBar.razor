@inject IStringLocalizer<AppLocalization> AppLocalization
@inject IApplicationUserStateService UserStateService
@inject NavigationManager Nav
@using BLAZAM.Server.Shared.UI.Themes;


<MudAppBar Color=Color.Default Elevation="1">
    @if (mainLayout?.DrawerOpen != true)
    {
        <MudLink Href="@Nav.Uri">
            <MudImage Class="app-icon" Src="@StaticAssets.ApplicationIconUri" />
        </MudLink>
    }
    @if (mainLayout != null)
    {

        <MudIconButton Icon="@Icons.Material.Filled.Menu"
                   Color="Color.Inherit"
                   Edge="Edge.Start"
                   OnClick="@((e) => {mainLayout.DrawerOpen=!mainLayout.DrawerOpen; })" />
    }

    @if (mainLayout?.setHeader != null)
    {
        @mainLayout.setHeader.ChildContent

    }
    else
    {
        <SearchPageHeader Text="Search" />
    }

    <MudSpacer />
  
    <AppUserButton/>
  
</MudAppBar>


@code {
   
    [CascadingParameter]
    public MainLayout mainLayout { get; set; }
   

}