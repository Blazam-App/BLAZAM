@inherits MudSelect<T>
@typeparam T

<MudSelect T="T"
           @bind-SelectedValues=@SelectedValues
           @bind-Text=@Text
           Value=@Value
           ValueChanged="(val)=>{Value=val;ValueChanged.InvokeAsync(val);}"
           FullWidth=@FullWidth
           Dense=@Dense
           Variant="@Variant"
           MultiSelection=@MultiSelection
           MultiSelectionTextFunc="@MultiSelectionTextFunc"
           Label="@Label"
           HelperText="@HelperText"
           HelperTextOnFocus=@HelperTextOnFocus
           Placeholder="@Placeholder"
           Class=@Class
           OnClearButtonClick=@OnClearButtonClick
           Adornment=@Adornment
           AutoFocus=@AutoFocus
           Disabled=@Disabled
           Clearable=@Clearable
           ListClass=@(ListClass+"w-min")
           Style="@(Style+" min-width:100px;")">
    @if (Values != null && Values.Count() > 0)
    {
        @foreach (var val in Values)
        {
            <MudSelectItem Value="@val">
                <MudText Color="@Color">
                    @if (ToStringFunc != null)
                    {
                        <MudElement>
                            @ToStringFunc.Invoke(val)
                        </MudElement>
                    }
                    else
                    {
                        <MudElement>
                            @val?.ToString()
                        </MudElement>
                    }
                </MudText>
            </MudSelectItem>
        }
    }
</MudSelect>


@code {
    [Parameter]
    public Color Color { get; set; }

    [Parameter]
    public IEnumerable<T> Values { get; set; }
}

