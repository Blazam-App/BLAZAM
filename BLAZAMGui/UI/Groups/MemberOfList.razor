@inherits AppComponentBase


<MudList Disabled=false
    Dense=true 
    Clickable="false" 
    DisableGutters=true 
    Style="max-height:200px; overflow-y:auto;">
    @foreach (IADGroup g in Model.MemberOf.Where(group => group.CanRead).OrderBy(g => g.CanonicalName))
    {
        if (g.CanRead)
        {
            <MudListItem>
                <ChildContent>
                    <MudStack Row=true>
                        <MudLink OnClick="@(()=>{Nav.NavigateTo(g.SearchUri);})">@g.CanonicalName</MudLink>
                        <MudSpacer />
                        <MudIconButton OnClick="@(()=>{Model.UnassignFrom(g);})" Class="align-end align-middle" Color=Color.Error Icon="@Icons.Material.Filled.Close" />
                    </MudStack>
                </ChildContent>
            </MudListItem>

        }

    }
    @if (Model.MemberOf.Where(group => !group.CanRead).Count() > 0)
    {
        <MudListItem Text="The user is in more groups you don't have access to" />
    }

</MudList>

@code {

    [Parameter]
    public IGroupableDirectoryAdapter Model { get; set; }
}